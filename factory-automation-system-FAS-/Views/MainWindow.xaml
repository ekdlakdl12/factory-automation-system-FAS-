<Window x:Class="factory_automation_system_FAS_.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:views="clr-namespace:factory_automation_system_FAS_.Views"
        mc:Ignorable="d"
        Title="FAS 통합 모니터링 시스템" Height="900" Width="1200" WindowStartupLocation="CenterScreen">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <GroupBox Header="데이터베이스 관리" Grid.Row="0" Margin="0,0,0,10">
            <Button x:Name="BtnImportJson" Content="JSON 데이터 DB 가져오기 (OpenCV 연동)" 
                    Click="BtnImportJson_Click" Height="35" Margin="10"/>
        </GroupBox>

        <GroupBox Header="PLC Modbus TCP 연결" Grid.Row="1" Margin="0,0,0,10">
            <StackPanel Orientation="Horizontal" Margin="10">
                <TextBlock Text="IP:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                <TextBox x:Name="TxtIp" Width="120" Text="192.168.0.8" VerticalAlignment="Center"/>
                <TextBlock Text="Port:" VerticalAlignment="Center" Margin="15,0,5,0"/>
                <TextBox x:Name="TxtPort" Width="50" Text="502" VerticalAlignment="Center"/>
                <Button x:Name="BtnPlcConnect" Content="연결" Width="80" Margin="20,0,0,0" Click="BtnPlcConnect_Click"/>
                <Button x:Name="BtnPlcDisconnect" Content="해제" Width="80" Margin="5,0,0,0" Click="BtnPlcDisconnect_Click" IsEnabled="False"/>
                <Ellipse x:Name="LedConn" Width="15" Height="15" Fill="Gray" Margin="15,0,0,0"/>
            </StackPanel>
        </GroupBox>

        <GroupBox Header="PLC 레지스터 제어" Grid.Row="2" Margin="0,0,0,10">
            <Grid Margin="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <StackPanel Grid.Column="0" Margin="0,0,10,0">
                    <TextBlock Text="시작 주소 (Address)"/>
                    <TextBox x:Name="TxtAddr" Text="0" Margin="0,5"/>
                    <Button Content="데이터 읽기" Click="BtnModbusRead_Click"/>
                </StackPanel>
                <StackPanel Grid.Column="1">
                    <TextBlock Text="쓰기 값 (Value)"/>
                    <TextBox x:Name="TxtWriteVal" Text="1" Margin="0,5"/>
                    <Button Content="데이터 쓰기" Click="BtnModbusWrite_Click"/>
                </StackPanel>
            </Grid>
        </GroupBox>

        <TabControl Grid.Row="3">
            <TabItem Header="FAS 실시간 모니터링">
                <views:FasMainView x:Name="MainControl"/>
            </TabItem>
            <TabItem Header="비전 이벤트 로그 (DB)">
                <DataGrid x:Name="dgVisionLogs" AutoGenerateColumns="True" IsReadOnly="True"/>
            </TabItem>
            <TabItem Header="실시간 통신 로그">
                <TextBox x:Name="TxtLog" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" IsReadOnly="True" Background="#F9F9F9"/>
            </TabItem>
        </TabControl>
    </Grid>
</Window>